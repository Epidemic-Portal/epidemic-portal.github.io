<div style="min-height: 100vh;" ng-show="simulation.canPlot">
    <div class="p-5" style="background: hsla(0, 0%, 2%, 1); min-height: 100vh;">

        <div  class="pl-3">
            <span style="color: hsla(0, 0%, 50%, 1); font-size: small;">Data Type</span>
            <span class="ml-4" >
                <button class="btn-ignus sub-addition-button interface-button ml-0 mr-3 pl-4 pr-4 pt-2 pb-2" ng-repeat="(dataTypeName, dataType) in workflows.learningPrediction.dataType" style="{{ workflows.learningPrediction.dataTypeChosen == dataTypeName ? 'background-color: hsla(var(--themeColorHue), 20%, 50%, 0.5);' : ''}};" ng-click="workflows.learningPrediction.dataTypeChosen = dataTypeName">{{dataType.name}}</button>
            </span>
        </div>

        <div  class="pl-3 mt-4">
            <span style="color: hsla(0, 0%, 50%, 1); font-size: small;">Algorithm</span>
            <span class="ml-4" >
                <button class="btn-ignus sub-addition-button interface-button ml-0 mr-3 pl-4 pr-4 pt-2 pb-2" ng-repeat="(algoName, algo) in workflows.learningPrediction.algo" style="{{ workflows.learningPrediction.algoChosen == algoName ? 'background-color: hsla(var(--themeColorHue), 20%, 50%, 0.5);' : ''}};" ng-click="workflows.learningPrediction.algoChosen = algoName">{{algo.name}}</button>
            </span>
        </div>
        <div  class="pl-3 mt-4">
            <span style="color: hsla(0, 0%, 50%, 1); font-size: small;">Prediction Time Window</span>
        </div>
        <div  class="pl-3 mt-1">
            <div class="d-inline-block">
                <div class="d-inline-block">
                    <div class="mr-4" style="color: hsla(0, 0%, 50%, 1); font-size: small;">Start on</div>
                    <div class="text-ignus mr-4" style="color: hsla(var(--secondaryColorHue), 60%, 80%, 1);"> {{workflows.learningPrediction.timeWindow.timeWindowStartSlider}}{{numberSuffix(workflows.learningPrediction.timeWindow.timeWindowStartSlider)}} day </div>
                </div>
                <div class="d-inline-block">
                    <div class="mr-4" style="color: hsla(0, 0%, 50%, 1); font-size: small;">End on</div>
                    <div class="text-ignus mr-4" style="color: hsla(var(--secondaryColorHue), 60%, 80%, 1);">{{workflows.learningPrediction.timeWindow.timeWindowEndSlider}}{{numberSuffix(workflows.learningPrediction.timeWindow.timeWindowEndSlider)}} day </div> 
                </div>
            </div>
        </div>
        <div class="ml-3">
            <div class="d-inline-block" style="font-size: 0; position: relative;" ng-mouseup="workflows.learningPrediction.timeWindowSliderUpEventHandler($event)" ng-mouseleave="workflows.learningPrediction.timeWindowSliderUpEventHandler($event)">
                <div style="width: 16px; height: 16px; position: absolute; background: hsla(var(--secondaryColorHue), 40%, 90%, 1); z-index: 1; border-radius: 50%; cursor: ew-resize;left: {{(workflows.learningPrediction.timeWindow.timeWindowStartSlider/100)*400}}px;" id="timeWindowStartSliderKnob" ng-mousemove="workflows.learningPrediction.timeWindowSliderEventHandler($event)" ng-mousedown="workflows.learningPrediction.timeWindowSliderDownEventHandler($event)" ng-mouseup="workflows.learningPrediction.timeWindowSliderUpEventHandler($event)"></div>

                <div style="width: 16px; height: 16px; position: absolute; background: hsla(var(--secondaryColorHue), 40%, 90%, 1);; z-index: 1; border-radius: 50%; cursor: ew-resize; left: {{((workflows.learningPrediction.timeWindow.timeWindowEndSlider + workflows.learningPrediction.timeWindow.timeWindowStartSlider)/100)*400}}px;" id="timeWindowEndSliderKnob" ng-mousemove="workflows.learningPrediction.timeWindowSliderEventHandler($event)" ng-mousedown="workflows.learningPrediction.timeWindowSliderDownEventHandler($event)" ng-mouseup="workflows.learningPrediction.timeWindowSliderUpEventHandler($event)"></div>

                
                <div id="timeWindowVisual" style="width: 400px; height: 4px; top: 6px; background: linear-gradient(to right,hsla(var(--secondaryColorHue), 10%, 70%, 1) 0%, hsla(var(--secondaryColorHue), 10%, 70%, 1) {{workflows.learningPrediction.timeWindow.timeWindowStartSlider}}%, hsla(var(--secondaryColorHue), 50%, 50%, 1) {{workflows.learningPrediction.timeWindow.timeWindowStartSlider}}%, hsla(var(--secondaryColorHue), 50%, 50%, 1) {{workflows.learningPrediction.timeWindow.timeWindowEndSlider + workflows.learningPrediction.timeWindow.timeWindowStartSlider}}%, hsla(var(--secondaryColorHue), 10%, 80%, 1) {{workflows.learningPrediction.timeWindow.timeWindowEndSlider + workflows.learningPrediction.timeWindow.timeWindowStartSlider}}%, hsla(var(--secondaryColorHue), 10%, 80%, 1) 100%); position: absolute; cursor: pointer;" ng-click="workflows.learningPrediction.timeWindowSliderClickEventHandler($event)"></div>


            </div>
        </div>

        <div>
            <!-- Run button -->
            <div class="d-inline-block mt-5 ml-2 pl-2" ng-hide="workflows.learningPrediction.learningPredictionSimulation.awaitingResponse">
                <div class="btn-ignus sub-addition-button interface-button ml-0 mr-3 pl-4 pr-4 pt-2 pb-2" ng-click="workflows.learningPrediction.learningPredictionSimulation.run()"><i class="fa fa-play mr-3 sub-addition-button-plus" ></i>
                     {{length(workflows.learningPrediction.learningPredictionSimulation.response) > 0 ? 'Rerun ':'Run '}} Analysis
                    
                    </div>
            </div>
        </div>

        <!-- <div  class="pl-3 pt-4 mt-4">
            <span class="mr-4" style="color: hsla(0, 0%, 50%, 1); font-size: small;">Number of Tests</span>
            <span class="text-ignus mr-4">{{workflows.learningPrediction.numberOfTests}}</span>
            <input type="range" id="numberOfTestsSlider" class="mr-3" min="0" max="100" step="1" ng-model="workflows.learningPrediction.numberOfTests" style="max-width: 400px;"><br/>
        </div> -->

        <div class="w-100 pr-4 pl-sm-5 pr-sm-5 pt-5 mt-5">
            <div style="min-height: 400px; " >
                <div class="pt-1 pb-1 text-ignus" style="color: grey;" ng-show="length(workflows.learningPrediction.chart.nodesDisplayed) > 0">{{workflows.learningPrediction.chart.propertyToActualName[workflows.learningPrediction.chart.currentlyDisplayedProperty]}} over time {{workflows.learningPrediction.chart.currentlyDisplayedProperty == 'Beta' ? 'at edge between':'at nodes'}}</div>
        
                <div class="pt-1 pb-1 text-ignus d-flex justify-content-center align-items-center " style="color: grey; width: 100%; height: 300px; font-weight: bold;" ng-show="workflows.learningPrediction.learningPredictionSimulation.awaitingResponse"><b class="moving-gradient-text">Waiting for a reply from the server. :)</b></div>
        
                <div class="pt-1 pb-1 text-ignus d-flex justify-content-center align-items-center " style="color: grey; width: 100%; height: 300px; font-weight: bold;" ng-show="workflows.learningPrediction.learningPredictionSimulation.awaitingResponseFailure"><b class="moving-gradient-text">Sorry, there was a problem getting a response from the server.</b></div>
                
                <div class="mt-2" ng-show="workflows.learningPrediction.chart.currentlyDisplayedProperty == 'Gamma'">
                    <button class="btn-ignus sub-addition-button interface-button ml-0 mr-3 pl-3 pr-3 pt-2 pb-2" ng-repeat="(nodeName, nodeDisplayed) in workflows.learningPrediction.chart.nodesDisplayed" style="{{ nodeDisplayed ? 'background-color: hsla(var(--themeColorHue), 70%, 40%, 1);' : ''}};" ng-click="workflows.learningPrediction.chart.nodesDisplayed[nodeName] = !nodeDisplayed; workflows.learningPrediction.chart.render(); workflows.learningPrediction.chartForStates.render();" ng-show="networkGraph.nodes[nodeName] != undefined">
                        {{networkGraph.nodes[nodeName].editableName}} 
                        <font class="ml-2" style="color: hsla(0, 0%, 100%, 0.3); font-size: smaller;">#{{networkGraph.nodes[nodeName].nodeNumber}}</font>
                    </button>
                </div>

                <div class="mt-2" ng-show="workflows.learningPrediction.chart.currentlyDisplayedProperty == 'Beta' && length(workflows.learningPrediction.chart.nodesDisplayed) > 0">
                    <select class="select-underlined-ignus mr-3 select-dropdowns" ng-model="workflows.learningPrediction.chart.currentlySelectedDisplayEdgeFrom" ng-options="nodeKey as (networkGraph.nodes[nodeKey].editableName + ' #' +  networkGraph.nodes[nodeKey].nodeNumber) for (nodeKey, node) in networkGraph.nodes" ng-change="workflows.learningPrediction.chartForStates.render(); workflows.learningPrediction.chart.render(); networkGraph.render()">
                        <option ng-repeat="(nodeKey, node) in networkGraph.nodes" value="{{nodeKey}}">
                            {{node.editableName }}
                        </option>
                    </select>

                    <font class="p-3 mr-2 text-ignus">and</font>
                    
                    <select class="select-underlined-ignus mr-3 select-dropdowns" ng-model="workflows.learningPrediction.chart.currentlySelectedDisplayEdgeTo" ng-options="nodeKey as (networkGraph.nodes[nodeKey].editableName + ' #' +  networkGraph.nodes[nodeKey].nodeNumber) for (nodeKey, node) in networkGraph.nodes" ng-change="workflows.learningPrediction.chartForStates.render(); workflows.learningPrediction.chart.render(); networkGraph.render()">
                        <option ng-repeat="(nodeKey, node) in networkGraph.nodes" value="{{nodeKey}}">
                            {{node.editableName }}
                        </option>
                    </select>
                    <!-- {{networkGraph.edge.edges['from#' + workflows.learningPrediction.chart.currentlySelectedDisplayEdgeFrom + 'to#' + workflows.learningPrediction.chart.currentlySelectedDisplayEdgeTo]}} -->
                    <div class="text-ignus" style="font-size: small;" ng-show="networkGraph.edge.edges['from#' + workflows.learningPrediction.chart.currentlySelectedDisplayEdgeFrom + 'to#' + workflows.learningPrediction.chart.currentlySelectedDisplayEdgeTo] == null">
                        There is no edge going from {{networkGraph.nodes[workflows.learningPrediction.chart.currentlySelectedDisplayEdgeFrom].editableName}} to {{networkGraph.nodes[workflows.learningPrediction.chart.currentlySelectedDisplayEdgeTo].editableName}}. 
                    </div>
                    
                </div>

            

                <div id="learningPredictionResponseHolder" class="text-ignus mt-4" style="position: relative; {{dimensions.width < 800 ? '':'max-width: 1100px;'}}">
                    
                    <div id="learningPred-chart-main" class="w-100" style="min-height: 80vh; " ng-mousemove="workflows.learningPrediction.chart.mouseMove($event)" ng-mouseleave="workflows.learningPrediction.chart.mouseLeave($event)">
        
                    </div>

                    
                </div>

                <div class="mt-2 mb-5 text-center w-100" ng-show="length(workflows.learningPrediction.chart.nodesDisplayed) > 0" ng-init="workflows.learningPrediction.chart.selectProperty('Gamma')">
                    <button class="btn-ignus sub-addition-button interface-button ml-0 mr-3 pl-3 pr-3 pt-2 pb-2" ng-repeat="(seriesPropertyKey, property) in workflows.learningPrediction.chart.seriesProperties" style="{{ property.displayed ? 'background-color:' + property.buttonColor : ''}};" ng-click="workflows.learningPrediction.chart.selectProperty(seriesPropertyKey); workflows.learningPrediction.chart.render();">
                        {{workflows.learningPrediction.chart.propertyToActualName[seriesPropertyKey]}}</button>
                </div>

                <div class="mt-2 mb-5 text-center w-100" ng-show="length(workflows.learningPrediction.chart.nodesDisplayed) > 0" style="color: grey; font-size: small;">
                    Dotted lines represent the value that given as input in the graph above.
                 </div>



                <!-- <div id="testingResponseHolder2" class="text-ignus mt-4" style="position: relative; {{dimensions.width < 800 ? '':'max-width: 1100px;'}}">
                    
                    <div id="testingStates-chart-main" class="w-100" style="min-height: 80vh; " ng-mousemove="workflows.learningPrediction.chartForStates.mouseMove($event)" ng-mouseleave="workflows.learningPrediction.chartForStates.mouseLeave($event)">
        
                    </div>

                    
                </div>

                <div class="mt-2 mb-5 text-center w-100" ng-show="length(workflows.learningPrediction.chartForStates.nodesDisplayed) > 0">
                    <button class="btn-ignus sub-addition-button interface-button ml-0 mr-3 pl-3 pr-3 pt-2 pb-2" ng-repeat="(seriesPropertyKey, property) in workflows.learningPrediction.chartForStates.seriesProperties" style="{{ property.displayed ? 'background-color:' + property.buttonColor : ''}};" ng-click="workflows.learningPrediction.chartForStates.seriesProperties[seriesPropertyKey].displayed = !property.displayed; workflows.learningPrediction.chartForStates.render();">
                        {{seriesPropertyKey}}</button>
                </div> -->

                
        
        
                
            </div>
        </div>
    </div>
</div>